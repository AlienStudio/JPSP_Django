webpackJsonp([14],{229:function(e,t,o){o(283);var r=o(0)(o(253),o(315),"data-v-1e1262e7",null);e.exports=r.exports},253:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(14),s=o.n(r),n=o(5),i=o.n(n);t.default={data:function(){return{LoginForm:{UserName:"",Password:""},Rules:{UserName:[{required:!0,message:"请输入用户名",trigger:"blur"}],Password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{onSubmit:function(){var e=this;this.$refs.LoginForm.validate(function(t){t?i()({method:"POST",url:e.GetApi+"login",data:s()({UserName:e.LoginForm.UserName,Password:e.LoginForm.Password,UserType:"Student"})}).then(function(e){"User Authenticated"===e.data.message?(this.$cookie.set("UserId",this.LoginForm.UserName,1),this.$cookie.set("UserName",e.data.UserName,1),this.$cookie.set("IndexToken",e.data.Token,1),this.$cookie.set("IndexAuthenticated",!0,1),this.$router.push("/")):"User Not Authenticated"===e.data.message&&this.$notify.error({title:"错误",message:"登陆失败"})}.bind(e)):alert("error")})}},computed:{Authenticated:function(){return this.$cookie.get("IndexAuthenticated")},GetApi:function(){return this.$store.state.Api}},created:function(){"true"===this.$cookie.get("IndexAuthenticated")&&this.$router.push("/")}}},260:function(e,t,o){t=e.exports=o(216)(!0),t.push([e.i,".LoginForm[data-v-1e1262e7]{margin-top:5%;margin-bottom:5%}.login-title[data-v-1e1262e7]{text-align:center}","",{version:3,sources:["C:/jpsp_python/jpsp/frontend/src/pages/index/Login.vue"],names:[],mappings:"AACA,4BACE,cAAe,AACf,gBAAkB,CACnB,AACD,8BACE,iBAAmB,CACpB",file:"Login.vue",sourcesContent:["\n.LoginForm[data-v-1e1262e7] {\n  margin-top: 5%;\n  margin-bottom: 5%;\n}\n.login-title[data-v-1e1262e7] {\n  text-align: center;\n}\n"],sourceRoot:""}])},283:function(e,t,o){var r=o(260);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);o(217)("1414bd1f",r,!0)},315:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"LoginForm"},[o("h1",{staticClass:"login-title"},[e._v("学生登录")]),e._v(" "),o("el-form",{ref:"LoginForm",attrs:{model:e.LoginForm,rules:e.Rules}},[o("el-form-item",{attrs:{label:"用户名",prop:"UserName"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.LoginForm.UserName,expression:"LoginForm.UserName"}],staticClass:"input",attrs:{placeholder:"用户名",autofocus:""},domProps:{value:e.LoginForm.UserName},on:{input:function(t){t.target.composing||(e.LoginForm.UserName=t.target.value)}}})]),e._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"Password"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.LoginForm.Password,expression:"LoginForm.Password"}],staticClass:"input",attrs:{type:"password",placeholder:"密码"},domProps:{value:e.LoginForm.Password},on:{input:function(t){t.target.composing||(e.LoginForm.Password=t.target.value)}}})]),e._v(" "),o("br"),e._v(" "),o("el-form-item",[o("a",{staticClass:"is-info button",on:{click:e.onSubmit}},[e._v("登录")])]),e._v(" "),o("p",{staticStyle:{"text-align":"right"}},[o("router-link",{attrs:{to:"/contact"}},[e._v("忘记密码？")])],1)],1)],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=14.js.map